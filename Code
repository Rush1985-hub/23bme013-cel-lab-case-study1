p = 50;          
dt = 0.01;       

P = p;           

while true 
    error = 0.2*p^2 + 7*p - 80;   
    p_new = p - error*dt;         
    
    P(end+1) = p_new;            
    
    if abs(p_new - p) < 0.001     
        break;
    end
    
    p = p_new;
end

fprintf('Equilibrium price = %.2f units\n', p_new);

p = 0:0.1:20;
D = 100 - 5*p - 0.1*p.^2;
S = 20 + 2*p + 0.1*p.^2;

plot(p,D,'b',p,S,'r')
xlabel('Price')
ylabel('Quantity')
legend('Demand','Supply')
grid on
